### ===============================
### 1. CHECK HEALTH (test simple)
### ===============================
GET http://localhost:9090/telemetry
Content-Type: application/json



### ===============================
### 2. PREPARAR PROVIDER (asset + policy + contract)
### ===============================

### ---- ASSET ----
POST http://localhost:1200/v3/assets
Content-Type: application/json

{
  "assetId": "iot-stream-001",
  "properties": {
    "description": "IoT device stream"
  },
  "dataAddress": {
    "type": "HttpData",
    "endpoint": "http://localhost:9090/telemetry"
  }
}

###

### ---- POLICY ----
POST http://localhost:1200/v2/policydefinitions
Content-Type: application/json

{
  "id": "policy-iot",
  "permissions": [
    {
      "edctype": "dataspaceconnector:permission",
      "target": "iot-stream-001",
      "action": { "type": "USE" }
    }
  ]
}

###

### ---- CONTRACT DEFINITION ----
POST http://localhost:1200/v2/contractdefinitions
Content-Type: application/json

{
  "id": "contract-iot-001",
  "accessPolicyId": "policy-iot",
  "contractPolicyId": "policy-iot",
  "criteria": [
    {
      "operandLeft": "assetId",
      "operator": "=",
      "operandRight": "iot-stream-001"
    }
  ]
}



### ===============================
### 3. EJECUTAR INIT (/init)
### ===============================
POST http://localhost:9090/init
Content-Type: application/json

{}



### ===============================
### 4. ENVIAR TELEMETRÍA (simulación real)
### ===============================
POST http://localhost:9090/telemetry
Content-Type: application/json

{
  "temperature": 22.5,
  "humidity": 51
}
